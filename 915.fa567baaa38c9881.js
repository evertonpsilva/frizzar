"use strict";(self.webpackChunkfrizzar_lp_cliente=self.webpackChunkfrizzar_lp_cliente||[]).push([[915],{3915:(v,i,r)=>{r.r(i),r.d(i,{NewPasswordComponent:()=>g});var l=r(6895),o=r(4006),u=r(4859),m=r(3624),_=r(2373),e=r(4650),c=r(2761),f=r(7185);const d=function(s){return{"is-invalid":s}};let g=(()=>{class s extends _.b{constructor(a,n,t,p){super(),this.fb=a,this.route=n,this.loginService=t,this.toastService=p}matchValues(a){return n=>n.parent&&n.parent.value&&n.value===n?.parent?.get(a)?.value?null:{isMatching:!1}}ngOnInit(){const{token:a}=this.route.snapshot.queryParams;console.log(a),this.form=this.fb.group({token:[a],senha:[null,[o.kI.required,o.kI.minLength(4)]],confirmarSenha:[null,[o.kI.required,this.matchValues("senha")]]})}editarSenha(){this.loadingService.setLoading(!0);var a={token:this.form.get("token").value,senha:this.form.get("senha").value};this.loginService.editarSenha(a).subscribe({next:n=>{this.loginService.login({email:n.email,senha:a.senha,empresa:n.empresa})},error:n=>{console.log(n),this.loadingService.setLoading(!1),this.toastService.error("Token inv\xe1lido")}})}}return s.\u0275fac=function(a){return new(a||s)(e.Y36(o.qu),e.Y36(c.gz),e.Y36(m.r),e.Y36(f._W))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-new-password"]],standalone:!0,features:[e._Bn([m.r]),e.qOj,e.jDz],decls:21,vars:8,consts:[[1,"main-container","rounded","shadow","p-5"],[1,"mb-2"],[1,"mb-5"],[3,"formGroup"],[1,"d-flex","justify-content-between","flex-column","gap-sm-2"],[1,"input-box","d-flex","flex-column","w-100"],["for","password"],["id","password","type","password","formControlName","senha","placeholder","Senha",1,"input-control",3,"ngClass"],[1,"invalid-feedback"],["for","confirmPassword"],["id","confirmPassword","type","password","formControlName","confirmarSenha","placeholder","Confirmar senha",1,"input-control",3,"ngClass"],["mat-flat-button","","color","primary",1,"py-4","mt-2",3,"disabled","click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Alterar senha"),e.qZA(),e.TgZ(3,"p",2),e._uU(4,"Preencha as informa\xe7\xf5es para alterar sua senha"),e.qZA(),e.TgZ(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e._uU(9,"SENHA"),e.qZA(),e._UZ(10,"input",7),e.TgZ(11,"div",8),e._uU(12,"Digite a senha"),e.qZA()(),e.TgZ(13,"div",5)(14,"label",9),e._uU(15,"CONFIRMAR SENHA"),e.qZA(),e._UZ(16,"input",10),e.TgZ(17,"div",8),e._uU(18,"Senhas n\xe3o conferem"),e.qZA()(),e.TgZ(19,"button",11),e.NdJ("click",function(){return n.editarSenha()}),e._uU(20," Confirmar "),e.qZA()()()()),2&a&&(e.xp6(5),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngClass",e.VKq(4,d,n.form.get("senha").touched&&n.form.get("senha").invalid)),e.xp6(6),e.Q6J("ngClass",e.VKq(6,d,n.form.get("confirmarSenha").touched&&n.form.get("confirmarSenha").invalid)),e.xp6(3),e.Q6J("disabled",n.form.invalid))},dependencies:[l.ez,l.mk,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u,u.ot,u.lW],styles:["[_nghost-%COMP%]{display:flex;min-height:100vh;min-width:100vw;align-items:center;justify-content:center}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{width:90%;max-width:560px;background-color:#fff}"]}),s})()}}]);